<%# <h1 class="font-bold text-4xl">Pages#profile</h1> %>

<div class="p-4">
  <section class="p-4 flex justify-between items-center mb-8">
    <div class='flex gap-2 items-center'>
      <div id="avatar" class="w-20 h-20 text-[1.8rem] rounded-full bg-[var(--ezb-red)] flex justify-center items-center hover:scale-110 transform transition duration-300 font-bold">
        <%= @user.first_name[0] %>
      </div>
      <h2 class="leading-[1.2] text-2xl">
        <%= @user.first_name %>
      </h2>
    </div>
    <%= image_tag 'icons/settings.svg', alt: "ParamÃ¨tres", class: "w-6 h-6", id: "openModal" %>
  </section>



<p id='openModalFriend' class="p-4 flex items-center justify-center bg-[var(--ezb-red)] rounded-lg mb-6 text-[1.2rem] font-bold hover:bg-[var(--ezb-red-hover)] transform transition-colors duration-300 cursor-pointer">

   ðŸ‘¥ Ajouter des amis</p>





<section id="statistiques" class='bg-[var(--bg-card)] rounded-lg p-8 mb-4'>
  <h2 class='text-[var(--ezb-red)] text-center mb-8 text-[1.4rem]'>Statistiques</h2>
  <ul class='grid grid-cols-2 grid-rows-2'>
    <li class='mb-4 text-[var(--profile-stat-text)]'>
      Coins
      <p class='flex gap-2 items-center text-[1.2rem] text-white font-bold'>
        <%= @wallet.coins %>
        ðŸª™

      </p>
    </li>
    <li class='mb-4 text-[var(--profile-stat-text)]'>
      Diamants
     <p class='flex gap-2 items-center text-[1.2rem] text-white font-bold'>
        <%= @wallet.diamonds %>
        ðŸ’Ž
      </p>
    </li>
    <li class='mb-4 text-[var(--profile-stat-text)]'>
      Paris gagnÃ©s
       <p class='flex gap-2 items-center text-[1.2rem] text-white font-bold'>
        <%= @bets_won.count %>
        ðŸŽ‰

      </p>
    </li>
    <li class='mb-4 text-[var(--profile-stat-text)]'>
      Ratio de rÃ©ussite
       <p class='flex gap-2 items-center text-[1.2rem] text-white font-bold'>
        <%= @ratio %> %
      </p>
    </li>
  </ul>
  <hr class='mb-4'>
  <div id='divisions' class="flex flex-col gap-4 ">
    <p class='text-[var(--profile-stat-text)]'>Division actuelle</p>
    <div class="flex justify-center bg-[var(--bg-card-dark)] rounded-lg p-4  border-[var(--ezb-blue)] border-2 gap-4">
    <p class="text-[1.2rem] font-bold text-[var(--blue-debutant)]
   ">Division DÃ©butant</p>
      <p class='text-[0.9rem]'>
        (Top 80-100%)
      </p>

    </div>
  </section>

  <section id="statistiques" class='bg-[var(--bg-card)] rounded-lg p-8 mb-4'>
    <h2 class='text-[var(--ezb-red)] text-center mb-8 text-[1.4rem]'>TÃ¢ches et RÃ©compenses</h2>
    <ul class="grid grid-cols-2 gap-4">
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Suivez nous sur Instagram</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 1000 ðŸª™</a>
      </li>
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Rejoins nous sur Telegram</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 1000 ðŸª™</a>
      </li>
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Suivez notre compte X</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 1000 ðŸª™</a>
      </li>
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Suivez nous sur Youtube</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 1000 ðŸª™</a>
      </li>
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Suivez nous sur TikTok</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 1000 ðŸª™</a>
      </li>
      <li class="bg-[var(--bg-card-dark)] rounded-lg flex flex-col gap-2 p-4 justify-between">
        <p>Parrainer un ami</p>
        <a href="#" class='bg-[var(--ezb-red)] hover:bg-[var(--ezb-red-hover)] hover:scale-110 rounded-sm flex text-center justify-center transform transition duration-300'>RÃ©clamer <br> 5ðŸ’Ž</a>
      </li>
    </ul>
  </section>
</div>


<%= render "modal/modal-friend" %>
 <%= render "modal/modal-profile" %>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const openModalButton = document.getElementById("openModal");
    const openModalFriend = document.getElementById("openModalFriend");
    const closeModalButton = document.getElementById("closeModal");
    const closeModalFriend = document.getElementById("closeModalFriend");
    const modal = document.getElementById("profileModal");
    const modalFriend = document.getElementById('friendModal')

    const disableScroll = () => {
      document.body.style.overflow = 'hidden';
    };

    const enableScroll = () => {
      document.body.style.overflow = '';
    };

    if (openModalButton && modal) {
      openModalButton.addEventListener("click", () => {
        modal.showModal();
        disableScroll();
      });
    }
 if (openModalFriend && modalFriend) {
      openModalFriend.addEventListener("click", () => {
        modalFriend.showModal();
        disableScroll(); // DÃ©sactive le scroll lorsque la modal est ouverte
      });
    }
    if (closeModalButton && modal) {
      closeModalButton.addEventListener("click", () => {
        modal.close();
        enableScroll();
      });
    }
       if (closeModalFriend && modalFriend) {
      closeModalFriend.addEventListener("click", () => {
        modalFriend.close();
        enableScroll(); // RÃ©active le scroll lorsque la modal est fermÃ©e
      });
    }

    modal?.addEventListener("click", (event) => {
      if (event.target === modal) {
        modal.close();
        enableScroll();
      }
    });
     modalFriend?.addEventListener("click", (event) => {
      if (event.target === modalFriend) {
        modalFriend.close();
        enableScroll(); // RÃ©active le scroll si on ferme la modal en cliquant en dehors
      }
    });
  });
</script>
