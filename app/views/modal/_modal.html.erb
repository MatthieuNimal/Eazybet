<div data-controller="price" data-action="click->dialog#backdropClose">
  <dialog data-dialog-target="dialog" data-dialog-open-value="true" class="bg-blue-900 p-4 text-white"
          style="width: 90dvw; height:30dvh; position: absolute; margin: 10dvh auto; border-radius: 8px;">
    <%= form_with model: Bet.new, url: bets_path, method: :post do |f| %>
      <div class="flex justify-around mb-6">
        <p><%= odd.name %></p>
        <p><%= odd.price %></p>
      </div>

      <div data-controller="price " class="flex flex-col gap-4">
        <p>Gains potentiels</p>
        <div class="flex flex-col gap-4">
          <div class="flex gap-2">
            <p>Mise</p>

              <%= f.hidden_field :odd_id, value: odd.id %>
              <%= f.label :stake, "Mise" %>
              <%= f.number_field :stake, data: { price_target: "input", action:"input->price#update" }, value: 1, min: 1, step: 0.01, class: "p-2 border border-white rounded-lg" %>
          </div>
          <p id="result" data-price-target="result"><%= odd.price %></p>
        </div>
      </div>



      <div class="flex gap-4">
          <%= f.submit "Parier", class: "bg-gray-900 rounded-lg px-2.5 py-2 cursor-pointer", data: { action: "dialog#close" } %>
        <button class="bg-gray-900 rounded-lg px-2.5 py-2 cursor-pointer" type="button" data-action="dialog#close">Annuler</button>
      </div>
    <% end %>
  </dialog>
</div>
